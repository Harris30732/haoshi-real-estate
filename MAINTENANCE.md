# å¥½å®¤æˆ¿ç”¢ç³»çµ± - ç¶­è­·æ‰‹å†Š

> **ç¶²ç«™ç¶²å€**: https://haoshi-real-estate.vercel.app/  
> **æœ€å¾Œæ›´æ–°**: 2026-01-08

---

## ğŸ“ ç³»çµ±æ¶æ§‹ç¸½è¦½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel        â”‚â”€â”€â”€â”€â–¶â”‚   n8n Workflow  â”‚â”€â”€â”€â”€â–¶â”‚   Supabase      â”‚
â”‚   (å‰ç«¯è¨—ç®¡)    â”‚     â”‚   (API å¾Œç«¯)    â”‚     â”‚   (è³‡æ–™åº«+å„²å­˜) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| å…ƒä»¶ | ç”¨é€” | ç¶²å€ |
|------|------|------|
| **Vercel** | å‰ç«¯ç¶²ç«™è¨—ç®¡ | https://vercel.com/dashboard |
| **n8n** | API é‚è¼¯è™•ç† | https://findmyhome.zeabur.app |
| **Supabase** | PostgreSQL è³‡æ–™åº« + æª”æ¡ˆå„²å­˜ | https://supabase.com/dashboard |

---

## ğŸ”„ æ—¥å¸¸æ›´æ–°æµç¨‹

### å‰ç«¯ç¨‹å¼ç¢¼æ›´æ–°

```bash
# 1. ä¿®æ”¹æœ¬åœ°æª”æ¡ˆå¾Œ
git add .
git commit -m "æè¿°æ‚¨çš„ä¿®æ”¹å…§å®¹"
git push origin main

# 2. Vercel æœƒè‡ªå‹•åµæ¸¬ä¸¦åœ¨ 1-2 åˆ†é˜å…§éƒ¨ç½²
```

### å¸¸ç”¨ä¿®æ”¹ä½ç½®

| éœ€æ±‚ | ä¿®æ”¹æª”æ¡ˆ |
|------|----------|
| API ç«¯é» / ç’°å¢ƒè¨­å®š | `js/config.js` |
| ç™»å…¥é©—è­‰é‚è¼¯ | `js/auth.js` |
| API å‘¼å«å‡½å¼ | `js/api.js` |
| è¡¨æ ¼èˆ‡è³‡æ–™é¡¯ç¤º | `js/table.js` |
| å½ˆçª—èˆ‡è¡¨å–® | `js/modals.js` |
| åœ–è¡¨åŠŸèƒ½ | `js/charts.js` |
| åŒ¯å…¥åŒ¯å‡ºåŠŸèƒ½ | `js/import-export.js` |
| ä¸»æ‡‰ç”¨ç¨‹å¼åˆå§‹åŒ– | `js/app.js` |
| é é¢çµæ§‹ | `index.html` |
| æ¨£å¼è¨­è¨ˆ | `css/style.css` |

---

## âš™ï¸ Vercel ç®¡ç†

### æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹
1. ç™»å…¥ [Vercel Dashboard](https://vercel.com/dashboard)
2. é¸æ“‡ **haoshi-real-estate** å°ˆæ¡ˆ
3. é»æ“Š **Deployments** æŸ¥çœ‹æ‰€æœ‰éƒ¨ç½²ç´€éŒ„

### å›æ»¾åˆ°èˆŠç‰ˆæœ¬
1. é€²å…¥ **Deployments**
2. æ‰¾åˆ°æ­£å¸¸é‹ä½œçš„ç‰ˆæœ¬
3. é»æ“Šå³å´ **â‹®** â†’ **Promote to Production**

### ç’°å¢ƒè®Šæ•¸è¨­å®š
1. é€²å…¥å°ˆæ¡ˆ â†’ **Settings** â†’ **Environment Variables**
2. æ–°å¢è®Šæ•¸ï¼ˆå¦‚ API_KEY ç­‰æ•æ„Ÿè³‡è¨Šï¼‰
3. éœ€é‡æ–°éƒ¨ç½²æ‰æœƒç”Ÿæ•ˆ

---

## ğŸ”Œ n8n API å¾Œç«¯ç®¡ç†

### å­˜å– n8n ä»‹é¢
- **æ­£å¼ç’°å¢ƒ**: `https://findmyhome.zeabur.app`
- **æ¸¬è©¦ç’°å¢ƒ**: `https://findmyhome.zeabur.app/webhook-test`

### ä¸»è¦ Workflow
| Workflow | èªªæ˜ |
|----------|------|
| all-data | çµ±ä¸€è³‡æ–™æŸ¥è©¢ API |
| admin/properties | ç‰©ä»¶ CRUD |
| admin/communities | ç¤¾å€ CRUD |
| admin/users | ä½¿ç”¨è€… CRUD |
| admin/photos/upload | ç…§ç‰‡ä¸Šå‚³ |
| auth/* | èªè­‰ç›¸é—œ |

### ä¿®æ”¹ API é‚è¼¯
1. ç™»å…¥ n8n å¾Œå°
2. æ‰¾åˆ°å°æ‡‰çš„ Workflow
3. ç·¨è¼¯ç¯€é»é‚è¼¯
4. é»æ“Š **Save** ä¸¦ **Activate**

---

## ğŸ’¾ Supabase è³‡æ–™åº«ç®¡ç†

### ä¸»è¦è³‡æ–™è¡¨

| è³‡æ–™è¡¨ | ç”¨é€” |
|--------|------|
| `properties_for_sale` | æˆ¿å±‹ç‰©ä»¶è³‡æ–™ |
| `communities` | ç¤¾å€è³‡è¨Š |
| `users` | ä½¿ç”¨è€…å¸³è™Ÿ |

### ç›´æ¥æ“ä½œè³‡æ–™
1. ç™»å…¥ [Supabase Dashboard](https://supabase.com/dashboard)
2. é€²å…¥å°ˆæ¡ˆ â†’ **Table Editor**
3. é¸æ“‡è³‡æ–™è¡¨ç›´æ¥ç·¨è¼¯

### Storage ç…§ç‰‡ç®¡ç†
1. é€²å…¥ **Storage**
2. é¸æ“‡ `photos` bucket
3. å¯ç›´æ¥ä¸Šå‚³ã€åˆªé™¤æˆ–ç®¡ç†ç…§ç‰‡æª”æ¡ˆ

---

## ğŸ› é™¤éŒ¯æŒ‡å—

### å‰ç«¯å•é¡Œ
1. é–‹å•Ÿç€è¦½å™¨ **é–‹ç™¼è€…å·¥å…·** (F12)
2. æŸ¥çœ‹ **Console** åˆ†é çš„éŒ¯èª¤è¨Šæ¯
3. æŸ¥çœ‹ **Network** åˆ†é çš„ API è«‹æ±‚ç‹€æ…‹

### API å•é¡Œ
1. åœ¨ **Network** åˆ†é æ‰¾åˆ°å¤±æ•—çš„è«‹æ±‚
2. æŸ¥çœ‹ **Response** ç¢ºèªéŒ¯èª¤è¨Šæ¯
3. ç™»å…¥ n8n æŸ¥çœ‹ **Executions** ç´€éŒ„

### å¸¸è¦‹å•é¡Œ

| å•é¡Œ | å¯èƒ½åŸå›  | è§£æ±ºæ–¹æ³• |
|------|----------|----------|
| ç™»å…¥å¤±æ•— | Google OAuth è¨­å®šå•é¡Œ | ç¢ºèª `config.js` ä¸­çš„ `GOOGLE_CLIENT_ID` |
| è³‡æ–™ä¸é¡¯ç¤º | API ç«¯é»éŒ¯èª¤æˆ– n8n æœªå•Ÿç”¨ | ç¢ºèª n8n workflow å·² Activate |
| ç…§ç‰‡ç„¡æ³•ä¸Šå‚³ | Storage æ¬Šé™æˆ–å®¹é‡ | æª¢æŸ¥ Supabase Storage è¨­å®š |
| å¿«å–æœªæ›´æ–° | ç€è¦½å™¨å¿«å– | å¼·åˆ¶é‡æ–°æ•´ç† (Ctrl+Shift+R) |

---

## ğŸ” æ¬Šé™èªªæ˜

### è§’è‰²æ¬Šé™

| è§’è‰² | ä»£ç¢¼ | å¯åŸ·è¡Œæ“ä½œ |
|------|------|------------|
| ä¸€èˆ¬ä½¿ç”¨è€… | `user` | æŸ¥çœ‹è³‡æ–™ |
| ç®¡ç†è€… | `manager` | æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ç‰©ä»¶èˆ‡ç¤¾å€ |
| ç³»çµ±ç®¡ç†å“¡ | `admin` | å®Œæ•´æ¬Šé™ï¼ŒåŒ…å«ä½¿ç”¨è€…ç®¡ç† |

### æ–°å¢ç®¡ç†å“¡
1. ä½¿ç”¨ admin å¸³è™Ÿç™»å…¥
2. é€²å…¥ä½¿ç”¨è€…ç®¡ç†
3. æ–°å¢ä½¿ç”¨è€…ä¸¦è¨­å®š `role` ç‚º `admin`

---

## ğŸ“‹ æª¢æŸ¥æ¸…å–®

### æ¯æœˆæª¢æŸ¥
- [ ] Vercel éƒ¨ç½²æ˜¯å¦æ­£å¸¸
- [ ] n8n workflow æ˜¯å¦éƒ½è™•æ–¼ Active ç‹€æ…‹
- [ ] Supabase å„²å­˜ç©ºé–“æ˜¯å¦è¶³å¤ 
- [ ] ç¢ºèª API ç«¯é»å›æ‡‰æ­£å¸¸

### å•é¡Œæ’é™¤æ­¥é©Ÿ
1. ç¢ºèªç¶²è·¯é€£ç·šæ­£å¸¸
2. ç¢ºèªæ‰€æœ‰æœå‹™çš†åœ¨ç·šä¸Š (Vercel, n8n, Supabase)
3. æŸ¥çœ‹ç€è¦½å™¨ Console éŒ¯èª¤
4. æŸ¥çœ‹ n8n Executions ç´€éŒ„
5. å¿…è¦æ™‚å›æ»¾åˆ°å‰ä¸€å€‹ç©©å®šç‰ˆæœ¬

---

## ğŸ“ é‡è¦é€£çµ

- **å‰ç«¯ç¶²ç«™**: https://haoshi-real-estate.vercel.app/
- **API æ­£å¼ç’°å¢ƒ**: https://findmyhome.zeabur.app/webhook
- **API æ¸¬è©¦ç’°å¢ƒ**: https://findmyhome.zeabur.app/webhook-test
- **Vercel Dashboard**: https://vercel.com/dashboard
- **Supabase Dashboard**: https://supabase.com/dashboard

---

*è‹¥æœ‰ä»»ä½•å•é¡Œï¼Œè«‹åƒè€ƒæœ¬æ–‡ä»¶æˆ–è¯ç¹«é–‹ç™¼äººå“¡ã€‚*
